package uk.ac.cam.oda22.core.robots.actions;

import java.util.List;

import uk.ac.cam.oda22.core.ListFunctions;

/**
 * @author Oliver
 *
 */
public class MoveAction implements IRobotAction {

	public final double dist;

	public MoveAction(double dist) {
		this.dist = dist;
	}
	
	public static void addAction(List<IRobotAction> l, IRobotAction action) {
		IRobotAction lastAction = l.size() == 0 ? null : ListFunctions.getLast(l);
		
		if (lastAction != null && lastAction instanceof MoveAction) {
			MoveAction newAction = new MoveAction(((MoveAction) lastAction).dist + dist);
			
			ListFunctions.removeLast(actions);
			actions.add(newAction);
		}
		else {
			actions.add(new MoveAction(dist));
		}
	}
	
	@Override
	public String toString() {
		return "Move action: " + this.dist;
	}
	
}
